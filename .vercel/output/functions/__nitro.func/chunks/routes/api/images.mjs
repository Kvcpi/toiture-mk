import{d as o}from"../../_/nitro.mjs";import s from"fs/promises";import e from"path";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";const r=o((async o=>{try{return{images:await async function(){try{const o=process.cwd(),r=[e.join(o,"public/realisations"),e.join(o,"realisations"),e.join(o,".output/public/realisations"),e.join(o,".nuxt/public/realisations")];console.log("Environnement:","production"),console.log("Dossier de base:",o);for(const o of r)try{console.log("Tentative d'accès au dossier:",o),await s.access(o),console.log("Dossier accessible:",o);const e=await s.readdir(o);console.log("Fichiers trouvés:",e);const r=e.filter((o=>/\.(jpg|jpeg|png|webp)$/i.test(o))).map((o=>`/realisations/${o}`));if(console.log("Images filtrées:",r),r.length>0)return r}catch(s){console.log(`Dossier non accessible: ${o}`);continue}return console.warn("Aucun dossier d'images trouvé dans les chemins possibles"),[]}catch(o){return console.error("Erreur lors de la lecture des images:",o),[]}}(),success:!0}}catch(o){return console.error("Erreur dans l'API images:",o),{images:[],success:!1,error:o.message}}}));export{r as default};
//# sourceMappingURL=images.mjs.map
